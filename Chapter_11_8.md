# 11.8 練習 4.8：🔴 虛擬團隊職掌定義 —— 為該主題打造專屬代理人團隊

> **核心價值**：從「物理建構」進化至「靈魂治理」。在 11.3 練習中，我們學會了如何使用 BMB 建立模組的「骨架」（目錄、代號與設定檔）；而在這一節，我們要開始為這些骨架「裝潢與入住」——透過撰寫「職掌契約」來精確定義專家的靈魂、產出品質與權力邊界。

---

### 【位階說明：為什麼有了模組還需要定義職掌？】
許多讀者在建立模組目錄後，會發現代理人表現得還是不夠「專精」。這是因為您還沒完成「治理位階」的設定。
*   **11.3 [BMB] 是「建立領地」**：關注的是系統路徑是否通順、模組是否能被呼叫。
*   **11.8 [治理] 是「授予官職」**：關注的是這位專家在特定情境（如：二仁溪探索）中，大腦該如何運作、哪些話能說、哪些決策不能代勞。

---

### 【場景：二仁溪專案的「微型專家團隊」】
在先前建立的 `river-exp` 模組中，我們現在要為其中的專家賦予生命力。這不只是下 Prompt，而是設計一套具備法律約束體感的「虛擬契約」。

### 【任務：撰寫代理人職掌契約 (Agent Charter)】

#### 1. 定義角色原型與對位 (Conversation-Driven Construction)
不要急著動手開檔案。在 BMAD 的治理邏輯中，我們透過「對話」來釐列職掌，並交由 AI 自動生產物理檔案。

*   **指令**：`*agent personal-assistant-coordinator` -> `*task define_ai_agent_goals`
*   **動作**：協調員會問您關於專案團隊的構成。此時，您可以將上一節定義的情境輸入，並告訴他您需要的專家原型。
*   **對話範例**：
    > 「我需要三位專家協助二仁溪專案：第一位是**水利文史官**，負責古籍考據；第二位是**空間分析師**，負責 GIS 資料對位；第三位是**走讀規劃員**，負責行程設計。」

#### 2. 設定權責邊界與攔截點 (Guardrails)
接著，協調員會針對每一位專家，追問更細緻的「權責契約」：
*   **詢問內容**：他會問您每一位專家的具體產出目標、不准觸碰的底線（攔截點），以及是否需要讀取特定資料夾。
*   **您的任務**：根據您的直覺回答。例如告訴他：「水利文史官不可以隨意引用未經證實的傳說。」

#### 3. 自動實體化資產 (Auto-Generation)
當對話結束，體現統御力的一刻就發生了：
*   **自動化執行**：AI 會根據剛才的共識，自動在您的 `river-exp/agents/` 目錄下產生對應的 `.md` 定義檔，並在 `tasks/` 中產生對應的專案任務。
*   **成果驗測**：您不需要編輯任何一行程式碼。直接嘗試在終端機呼叫：`*agent river-historian`。如果他能帥氣地上線並展現出您所要求的「考據精神」，則代表虛擬內閣初步架構成功。

---

### 【🚀 抽象對齊：[T-Micro-Governance] 微型組織治理】
*   **定錨座標**：`I-CLI-15` 影子開發、`I-AG-02` 槓桿躍遷、`v1.3 方法論` (2D 矩陣)。
*   **深度領悟**：
    *   **格律化職掌 (Chartered Responsibility)**：領悟到這不只是「設定角色遊戲」，這是為了降低 **認知熵 (Cognitive Entropy)**。當職掌清晰時，代理人就具備了預判能力。
    *   **從「下指令」到「營造環境」**：體會到賦能的最高境界，是讓代理人能在您不在場時（影子執行），依然完全符合您的品位裁決標準。

---

### 💡 哈爸筆記：給讀者的建議
> 「如果您發現代理人開始胡言亂語，通常不是因為他笨，而是因為您的『職掌契約』寫得太寬鬆了。記住：賦能是讓 AI 具備力量，而治理是給這股力量套上疆繩。沒疆繩的快馬，跑得再快也只會帶您墜入深谷。」
