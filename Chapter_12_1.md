# 12.1 練習 5.1：🟢 系統管理裝備化 —— 清理硬碟小管家 (.fab 實戰)

> **核心價值**：建立「數位領地」的物理控制感。這是一切 Vibe Coding 的起點：確信您的意志可以透過程式碼，直接跨越虛擬邊界，解決真實硬體（硬碟空間）的痛點。

---

### 【科普：什麼是 Fabric？您的數位能力整合架】

在進入實戰前，我們需要認識一個在自動化領域非常有名的工具——**Fabric**。

在傳統的電腦操作中，如果您想清理硬碟，您可能需要輸入一連串晦澀難懂的指令。而 **Fabric** 的出現，就是為了讓這件事變得很「優雅」。它是一個 Python 工具，核心功能是將複雜的系統指令，封裝成一個個帶有名稱的「任務 (Tasks)」。

*   **fabfile.py（設定檔）**：這是 Fabric 的靈魂。這是一個 Python 檔案，裡面就像是您的**數位裝備清單**。如果您定義了一個叫 `cleanup` 的任務，以後您只需要在終端機輸入 `fab cleanup`，它就會自動執行您設定好的所有清理邏輯。
*   **從「打雜」到「專家化」**：以前，寫這個檔案需要資深工程師的功力。但在 AI 時代，**它是您的能力整合架**。您只需要提供「意圖」（Vibe），剩下的複雜程式碼交給 AI 來寫。您管理的是這個「整合架」上的功能，而不是底層的程式碼。

#### **如何使用 Fabric？（基本指令）**
雖然 AI 會幫您寫好內容，但您需要知道如何啟動這個整合架：
1.  **安裝**：在終端機輸入 `pip install fabric` 即可完成預先準備。
2.  **列出任務**：輸入 `fab -l` (list)。這就像是翻開您的技能書，看看整合架上目前有哪些可用的任務。
3.  **執行任務**：輸入 `fab [任務名稱]`（例如：`fab cleanup`）。這就像是按下按鈕，啟動特定的自動化工序。

一旦您理解了這層結構，您就具備了將「單次對話」轉化為「持久化能力」的統御力。

---

### 【場景：被紅字警告壓垮的硬碟】
想像您的電腦硬碟空間突然亮起了紅燈，系統開始變得遲鈍，而您卻找不到那些佔用空間的「罪魁禍首」到底藏在哪個深層資料夾裡。傳統的做法是下載一個第三方的清理軟體（可能還帶著廣告），但身為數位領主，這正是您展現「主權管理」的時刻。

### 【任務：產出您的第一個系統治理裝備】

#### 1. 直接下達意圖 (Direct Prompting)
在本練習中，我們不使用複雜的代理人調度，而是直接在對話框中向 Antigravity 描述您的需求：
*   **動作**：輸入以下 Prompt：「我想清理硬碟空間。請幫我寫一個 Fabric 腳本，我主要是要發展關於整理硬碟的小工具，請先做一個 task 可以遞迴檢查當前目錄下所有超過 100MB 的檔案並列出清單。在刪除前必須列出檔案路徑並等待我的確認。請直接給我完整的程式碼與執行指令。」

#### 2. Vibe Coding 現場：從意圖到程式碼
*   **觀察**：Antigravity 會即刻產生一段名為 `fabfile.py` 的程式碼。請注意它是否將「檢查檔案」定義為一個獨立的 `@task`？它是否有正確地實作「列出清單」與「等待確認」？
*   **微調**：如果不滿意，不需要改 Code。直接說：「介面太亂了，請在 `fab cleanup` 執行時，用表格方式呈現清單，並加上顏色標註超大檔案。」

#### 3. 即刻執行與成果
*   **執行**：將程式碼存為 `fabfile.py`，並在終端機輸入 `fab -l` (查看任務清單) 以及 `fab cleanup` (執行任務)。
*   **體感**：看著那些佔用數 GB 空間的隱藏快取檔案在螢幕上現蹤，並在您的按鍵下消失。這就是 Vibe Coding 的威力：您不需要精通 Fabric 的裝飾器語法，但您成功打造了一個專屬的系統管理裝備。

#### 4. 繼續延伸：擴充您的清理內閣
一個單一的任務只是開始。身為領主，您可以繼續要求 AI 幫您開發更多具備物理控制力的任務，並將它們全部「掛」在您的 `fabfile.py` 上：
*   **[任務：找出重複檔案]**：`fab find_duplicates`。專門比對檔案名稱與大小，列出領地中多餘的備份。
*   **[任務：清理特定專案殘骸]**：`fab clean_node_modules`。遞迴搜尋並刪除所有開發專案中肥大的暫存資料夾（這通常能瞬間找回數十 GB 的空間）。
*   **[任務：日誌報表產出]**：`fab report`。掃描硬碟後產出一份「空間佔用前十名」的報告書，方便您決策。

---

### 【🚀 抽象對齊：[T-Physical-Governance] 物理治理體感】
*   **定錨座標**：`I-CLI-01` 協議的物理重量、`C-14` Vibe Coding。
*   **深度領悟**：
    *   **萬能之鑰的實證力**：領悟到 Code 作為最強大的 MCP (Model Context Protocol)，不僅是處理文字，更是處理「現實」。當您能用幾句對話就開發出一個專業的 Fabric 任務來解決硬碟問題時，您就真正掌握了這副萬能之鑰。
    *   **從「打雜」到「建構裝備」**：過去是「操作電腦」，現在您是在「產出資產」。每一個寫進 `fabfile.py` 的任務，都成為您數位領地中永恆的一部分。這份從害怕科技到統御科技的轉變，就是賦能的最高境界。

---

### 💡 哈爸筆記：給讀者的建議
> 「這個練習最重要的不是那幾行 Python 程式碼，而是那份『我隨時可以產出工具來接管環境』的底氣。清理硬碟只是一個小小的開始。當您習慣了這種開發範式，不假手於複雜的代理人系統，直接與 AI 對齊意圖，您會發現開發工具這件事，其實可以像呼吸一樣自然。」
