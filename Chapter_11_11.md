# 11.11 練習 4.11：🔴 底層運作拆解 —— 探索 Manifest、Config 與運作邏輯

> **核心價值**：建立「系統透視力」。當您不再滿足於只會對話，而是想知道代理人背後的齒輪是如何轉動時，本練習將帶領您進入 BMAD-METHOD 的底層，剖析設定檔（Manifest & Config）如何定義出這座數位領地的執行法則。

---

### 【場景：揭開「虛擬內閣」的黑盒子】
在使用過各種專家的對話引導後，您可能會好奇：為什麼我輸入 `*agent bmm`，系統就知道要去哪裡找檔案？為什麼某些任務可以讀取特定的資料夾？這一切的秘密都藏在專案根目錄下的幾個設定檔中。現在，我們要放下指揮棒，拿起手術刀。

### 【任務：執行 BMAD 底層邏輯的解剖練習】

#### 1. 檢視安裝宣告 (The Manifest)
這是系統的「出生證明」，定義了模組的組成元件：
*   **動作**：在您的專案目錄中，尋找並開啟 `install-manifest.yaml`（或 `.bmad-personal-assistant/config.yaml`）。
*   **觀察重點**：
    *   **modules**：列出目前掛載的所有模組 ID。
    *   **version**：目前的系統版本。
    *   **dependencies**：該模組依賴哪些外部工具或 MCP Server。
*   **體悟**：原來只要在 Manifest 裡多寫一行，系統就會承認一個新模組。這就是治理權的「書面證據」。

#### 2. 追蹤變數對位 (The Config Mapping)
了解「環境變數」如何影響代理人的行為：
*   **動作**：開啟模組目錄下的 `config.yaml`。
*   **觀察重點**：
    *   `communication_language`：定義代理人的母語。
    *   `output_folder`：定義所有產出物件的物理存放路徑。
*   **實驗**：試著將 `output_folder` 從「預設」修改為「專案特定路徑」，然後執行一個任務。觀察產出的檔案是否真的搬家了？

#### 3. 指令溯源 (Instruction Tracing)
看看 Task 檔案是如何被選中的：
*   **動作**：進入 `/tasks` 目錄，隨機開啟一個 `.md` 檔案（如 `organize-conversation.md`）。
*   **觀察重點**：
    *   **<critical>** 標籤：這裡寫了代理人執行此任務時「絕對不能違反」的物理法則。
    *   **Templates**：定義了輸出的長相格式。
*   **體悟**：檔案名稱就是指令、檔案內容就是靈魂。只要檔案命名正確，Antigravity 就具備了調用這項任務的能力。

---

### 【延伸應用：開發您的「專屬微調工具」】
當您看懂了這些檔案，您就擁有了最高權限：
*   **修正執拗**：如果某個代理人老是講錯話，您可以直接去修改它的 `instructions.md`。
*   **擴充能力**：在 Manifest 中加入新的 MCP Server 讀取權限，讓代理人瞬間多了一雙看外部資料的眼睛。

---

### 【🚀 抽象對齊：[T-System-Transparency] 系統透明化體感】
*   **定錨座標**：`I-CLI-11` tree 視角與精準位移、`I-CLI-02` 建構紀實。
*   **深度領悟**：
    *   **文字即法律 (Text-as-Law)**：領悟到在 Agentic 系統中，幾乎所有的行為都是由「文字設定檔」驅動的。這意味著您只要掌握了文字，也就掌握了物理執行力。
    *   **去除神祕感**：體會到 AI 並不神祕，當它被拆解為 Manifest、Config 與 Instruction 時，它就是一套極度邏輯化、可被審計、可被修改的軟體工程。

---

### 💡 哈爸筆記：給讀者的建議
> 「如果您想成為真正的 AI 統御者，請務必學會直接『讀檔』。對話介面是給使用者看的，而設定檔是給『領主』看的。當您能一眼看出 Manifest 裡的設定邏輯時，您就具備了建構一套全新治理體系的種子。」
